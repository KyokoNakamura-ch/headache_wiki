<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIT-6 頭痛評価テスト</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #e7f3f1; /* 目に優しい淡いグリーン */
            color: #333; /* 柔らかいグレー */
        }
        h1, h2 {
            text-align: center;
            color: #005a5b; /* 深い緑 */
        }
        .question-box {
            background-color: #fdfdfd;
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 90, 91, 0.2); /* 軽い影 */
            border-left: 5px solid #3a9d9b; /* ポイントカラー */
        }
        .question p {
            font-size: 18px;
            font-weight: bold;
        }
        .options {
            display: flex;
            flex-direction: column;
            margin-top: 8px;
        }
        .options label {
            display: block;
            padding: 12px;
            background-color: #dff5f4; /* 優しいブルー */
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 16px;
        }
        .options label:hover {
            background-color: #b2e1de; /* 選択時の柔らかい変化 */
        }
        .options input {
            display: none;
        }
        .options input:checked + label {
            background-color: #80ccc9; /* 選択時の強調 */
            font-weight: bold;
        }
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        button {
            background-color: #008c8a; /* ボタンのアクセントカラー */
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #006d6c;
        }
        .result {
            display: none;
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background-color: #f7fdfc;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 90, 91, 0.2);
        }
        .highlight {
            font-size: 24px;
            font-weight: bold;
            color: #007a78;
        }

        a {
            text-decoration: none; /* リンクの下線を消す */
        }

    </style>
</head>
<body>

    <h1>HIT-6 頭痛評価テスト</h1>
    
    <div class="question-box">
        <h2>あなたの頭痛、大丈夫？</h2>
        <p>頭痛が続くと、仕事や日常生活に影響が出ることも…！HIT-6テストで、あなたの頭痛がどのくらい日常に影響しているかをチェックしましょう！</p>
    </div>

    <form id="hit6Form">
        <!-- 質問 1〜6 -->
        <div class="question-box">
            <p>1. 頭が痛いとき、ひどい痛みが出るのはどれくらいの頻度ですか？</p>
            <div class="options">
                <input type="radio" id="q1_1" name="q1" value="6"><label for="q1_1">まったくない</label>
                <input type="radio" id="q1_2" name="q1" value="8"><label for="q1_2">めったにない</label>
                <input type="radio" id="q1_3" name="q1" value="10"><label for="q1_3">ときどきある</label>
                <input type="radio" id="q1_4" name="q1" value="11"><label for="q1_4">よくある</label>
                <input type="radio" id="q1_5" name="q1" value="13"><label for="q1_5">常にある</label>
            </div>
        </div>

        <div class="question-box">
            <p>2. 頭痛のせいで、日常生活に支障が出ることがありますか？（例えば､ 家事､ 仕事､ 学校生活､ 人付き合いなど）</p>
            <div class="options">
                <input type="radio" id="q2_1" name="q2" value="6"><label for="q2_1">まったくない</label>
                <input type="radio" id="q2_2" name="q2" value="8"><label for="q2_2">めったにない</label>
                <input type="radio" id="q2_3" name="q2" value="10"><label for="q2_3">ときどきある</label>
                <input type="radio" id="q2_4" name="q2" value="11"><label for="q2_4">よくある</label>
                <input type="radio" id="q2_5" name="q2" value="13"><label for="q2_5">常にある</label>
            </div>
        </div>

        <div class="question-box">
            <p>3. 頭が痛いとき､ 横になりたくなることがありますか？</p>
            <div class="options">
                <input type="radio" id="q3_1" name="q3" value="6"><label for="q3_1">まったくない</label>
                <input type="radio" id="q3_2" name="q3" value="8"><label for="q3_2">めったにない</label>
                <input type="radio" id="q3_3" name="q3" value="10"><label for="q3_3">ときどきある</label>
                <input type="radio" id="q3_4" name="q3" value="11"><label for="q3_4">よくある</label>
                <input type="radio" id="q3_5" name="q3" value="13"><label for="q3_5">常にある</label>
            </div>
        </div>
        
        <div class="question-box">
            <p>4. この4週間に､ 頭痛のせいで疲れてしまって､ 仕事やいつもの活動ができないことがありましたか？</p>
            <div class="options">
                <input type="radio" id="q4_1" name="q4" value="6"><label for="q4_1">まったくない</label>
                <input type="radio" id="q4_2" name="q4" value="8"><label for="q4_2">めったにない</label>
                <input type="radio" id="q4_3" name="q4" value="10"><label for="q4_3">ときどきある</label>
                <input type="radio" id="q4_4" name="q4" value="11"><label for="q4_4">よくある</label>
                <input type="radio" id="q4_5" name="q4" value="13"><label for="q4_5">常にある</label>
            </div>
        </div>
        
        <div class="question-box">
            <p>5. この4週間に､ 頭痛のせいで､ うんざりしたりいらいらしたりしたことがありましたか？</p>
            <div class="options">
                <input type="radio" id="q5_1" name="q5" value="6"><label for="q5_1">まったくない</label>
                <input type="radio" id="q5_2" name="q5" value="8"><label for="q5_2">めったにない</label>
                <input type="radio" id="q5_3" name="q5" value="10"><label for="q5_3">ときどきある</label>
                <input type="radio" id="q5_4" name="q5" value="11"><label for="q5_4">よくある</label>
                <input type="radio" id="q5_5" name="q5" value="13"><label for="q5_5">常にある</label>
            </div>
        </div>
        
        <div class="question-box">
            <p>6. この4週間に､ 頭痛のせいで､ 仕事や日常生活の場で集中できないことがありましたか？</p>
            <div class="options">
                <input type="radio" id="q6_1" name="q6" value="6"><label for="q6_1">まったくない</label>
                <input type="radio" id="q6_2" name="q6" value="8"><label for="q6_2">めったにない</label>
                <input type="radio" id="q6_3" name="q6" value="10"><label for="q6_3">ときどきある</label>
                <input type="radio" id="q6_4" name="q6" value="11"><label for="q6_4">よくある</label>
                <input type="radio" id="q6_5" name="q6" value="13"><label for="q6_5">常にある</label>
            </div>
        </div>
        
        <div style="text-align: center;">
            <button type="button" id="calculateBtn" class="button">測定する</button>
        </div>
    </form>
    
    <div id="result" class="result" style="display: none;">
        <p>スコア: <span id="score"></span></p>
        <p id="message"></p>
    </div>
    
    <script>
    document.getElementById("calculateBtn").addEventListener("click", function(event) {
        event.preventDefault();  // フォームの送信を防ぐ
        calculateHIT6();
    });

    document.getElementById("homeBtn").addEventListener("click", function() {
            window.location.href = "index.html"; // ホームのURLに変更
        });

    function calculateHIT6() {
        let totalScore = 0;
        let allAnswered = true;
    
        for (let i = 1; i <= 6; i++) {
            const selected = document.querySelector(`input[name=q${i}]:checked`);
            if (selected) {
                totalScore += parseInt(selected.value);
                localStorage.setItem(`q${i}`, selected.value); // 選択肢を保存
            } else {
                allAnswered = false;
            }
        }
    
        if (!allAnswered) {
            alert("すべての質問に回答してください！");
            return;
        }
    
        let message = totalScore >= 60 ? "頭痛が日常生活に重大な影響を与えています。<br>👉 <a href='doctors/when_to_see_specialist'>専門病院への受診</a>をみる。" :
                    totalScore >= 56 ? "頭痛が日常生活にかなりの影響を与えています。<br>👉 <a href='doctors/when_to_see_specialist'>専門病院への受診</a>をみる。" :
                    totalScore >= 50 ? "頭痛が日常生活にある程度の影響を与えています。<br>👉 <a href='doctors/when_to_see_specialist'>専門病院への受診</a>をみる。<br>👉 <a href='treatment/lifestyle'>生活習慣改善ガイド</a>をみる。" :
                    '現状では、頭痛が日常生活にほとんど影響を与えていません。<br>👉 <a href="treatment/lifestyle">生活習慣改善ガイド</a>をみる。';
    
        document.getElementById("score").innerText = totalScore;
        document.getElementById("message").innerHTML = message;
        document.getElementById("result").style.display = "block";  // 結果を表示する
    }

    // ページ読み込み時に選択肢を復元
    window.onload = function() {
        for (let i = 1; i <= 6; i++) {
            let savedValue = localStorage.getItem(`q${i}`);
            if (savedValue) {
                document.querySelector(`input[name=q${i}][value='${savedValue}']`).checked = true;
            }
        }
    };
    </script>

    <div style="text-align: center; margin-top: 10px;">
        👉 <a href="test/hit6" class="link"><span>HIT-6の詳しい説明をみる</span></a>
    </div>

</body>
</html>

        